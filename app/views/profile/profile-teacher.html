<nav class="navbar navbar-inverse navbar-fixed-top">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">HackBulgaria</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="">Dashboard</a></li>
        <li><a href="#/profile">Профил</a></li>
        <li><a href="#/logout">Изход</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row">
    <div class="col-sm-2 sidebar">
      <ul class="nav nav-sidebar">
        <li ng-repeat="course in vm.teachedCourses">
          <a ng-click="vm.showStudents(course.id)"><i class="fa fa-info fa-1x icon-text"></i> {{ course.name }}</a>
        </li>
      </ul>
    </div>


    <div class="row" style="padding-top: 20px;">
      <div class="col-xs-3 col-sm-offset-2 sidebar" id="student-list">
        <div class="student-item" ng-repeat="student in vm.ca" ng-click="vm.getCheckins(student.user.id)">
          <img src="{{vm.url}}{{student.user.avatar}}" class="student-avatar">
          {{student.user.first_name}} {{student.user.last_name}}  <span class="badge">{{student.studentnote_set.length}}</span>
        </div>
      </div>
    </div>


    <div class="col-sm-7 col-sm-offset-5 main" ng-show="vm.currentStudent">
      <h2 id="student-name">{{ vm.currentStudent.user.first_name }} {{ vm.currentStudent.user.last_name }}</h2>
      <h3>Таблица с присъствия:</h3>
      <table class="table-bordered" id="presence-table">
        <thead>
          <tr>
            <th></th>
            <th ng-repeat="day in vm.lectureDays">{{day}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="(week, date) in vm.tempData">
            <td>{{'week' + ($index + 1)}}</td>
            <td ng-repeat="day in vm.lectureDays" class="{{date[$index].presence}}"></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="col-sm-7 col-sm-offset-5 main" ng-show="vm.currentStudent">
      <h3>Коментари от преподавател</h3>

      <form ng-submit="vm.addNote(vm.currentStudent.id)" novalidate>
        <div class="form-group">
          <textarea name="new_note" class="form-control" ng-model="vm.newNote" rows="3"></textarea>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary">
            Добави коментар
          </button>
        </div>
      </form>

      <hr>
      <p ng-repeat="note in vm.currentStudent.studentnote_set">
        <strong>
          {{note.author.first_name}} {{note.author.last_name}}: 
        </strong>
        {{note.text}}
      </p>
    </div>
  
  </div>
</div>
